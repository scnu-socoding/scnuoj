本文件显示了各版本间的改变。`Enh` 表示添加新功能，`Chg` 表示修改功能，`Bug` 表示修复 Bug。

方括号内标注的 `web` 表示只修改了 Web 端；`db` 表示修改了数据库；`judge` 表示修改了判题部分。

- `web`: 意味着你只需要获取最新 Github 文件来更新即可。
- `db`: 意味着需要你在 `scnuoj` 目录下执行 `./yii migrate` 来更新数据库
- `judge`: 意味着需要你重新编译判题机并重新启动

请阅读帮助文档来获取更新方法。

##### SCNUOJ

2021.12 (security):

- 2023.12.16 Chg [web] 修改运行 ID 详情页子标题。
- 2023.12.16 Bug [web] 修复题目列表翻页之后搜索失效，每页题目数量控制失效。
- 2023.12.16 Bug [web] 若干依赖更新 (含 psr7 2.6.2, CVE-2023-29197)。

2021.11:

- 2022.08.31 Enh [judge] 若干依赖更新 (含 cJSON 1.7.10 -> 1.7.15)。
- 2022.08.09 Enh [web] 简化安装部署流程。

2021.10.5 (security):

- 2022.03.31 Bug [web] 更新 font-awesome (6.1.1), psr7 (2.2.1, CVE-2022-24775)。
- 2022.03.11 Bug [web] 修复管理员后台无法访问 IOI/OI 比赛终榜的问题。

2021.10:

- 2022.02.25 Enh [web] 更新 yii2 (2.0.45) 和 font-awesome (6.0.0)。
- 2022.02.23 Enh [web] 重新添加文档。

2021.9:

- 2022.01.05 Bug [web] 修复了单场比赛模式下用户可以查看个人简介的问题（防作弊）。
- 2022.01.05 Enh [web] 比赛榜单高亮个人比赛信息。
- 2022.01.05 Enh [web] 新增禁用比赛榜单。

2021.8:

- 2021.11.30 Bug [web] 修复了比赛题目超过 26 题时编号异常的问题。

2021.7:

- 2021.11.29 Enh [web] 若干视图调整和优化。

2021.6:

- 2021.11.19 Chg [web] 允许助教编辑公共题库题目。
- 2021.11.19 Bug [web] 修复管理员无法调整用户身份的问题。
- 2021.10.24 Chg [web] 删除积分功能。

2021.5:

- 2021.10.21 Bug: [web] 修复了小组搜索不生效的问题。
- 2021.10.20 Chg: [web、db] 比赛模式现在可以指定只允许访问哪个比赛，且对页面访问有了更严格的限定。

2021.4:

- 2021.10.8 Enh: [web、db] 新增比赛罚时自定义。

2021.3:

- 2021.6.5 Chg: [web] 比赛公告按照时间新到旧顺序展示。
- 2021.6.2 Bug: [web] 修复在测试数据包含 `\` 的情况下部分测试点信息无法查看的问题。
- 2021.5.29 Enh: [web、db] 新增比赛模式，比赛期间不可查看编译日志外的评测详情（参考 domjudge）。

2021.2:

- 2021.5.27 Enh: [web] 添加页面渐进效果。
- 2021.5.23 Bug: [judge] 修复测试点计数问题。
- 2021.5.23 Chg: [web] 修改多子任务测试点编号规则。

2021.1:

- 2021.4.29 Enh: [web] 优化样例复制、登录注册交互。
- 2021.4.14 Enh: [web] 若干细节优化。
- 2021.2.7 Enh: [web] 修复复制代码功能。

2021:

- 2021.1.27 Enh: [web] 重新设计后台界面。
- 2021.1.25 Enh: [web] 支持自定义哪个用户打星（包括常规用户）。
- 2021.1.25 Bug: [web] 修复批量建立比赛账号时误删其他账号的问题。
- 2021.1.24 Chg: [web] 合并线上线下比赛功能。
- 2021.1.24 Enh: [web] 添加站外比赛外链支持。
- 2021.1.24 Enh: [web] 公共比赛添加邀请码支持。
- 2021.1.16 Chg: [web] 比赛新建答疑仅管理员可见。
- 2021.1.15 Bug: [web] 修复测试点数据显示转义问题。
- 2021.1.15 Bug: [web] 修复榜单排名计算错误的问题。
- 2021.1.14 Enh: [web] 后台支持使用学号查找用户。
- 2021.1.13 Enh: [web] 添加题目标签显示开关。
- 2021.1.12 Enh: [web] 为小组和比赛添加搜索。
- 2021.1.6 Bug: [web] 修复了无法重置密码的问题。
- 2021.1.4 Enh: [web] 支持 DOMjudge 榜单显示。
- 2020.12.29 Chg: [web] 比赛榜单提供分页。
- 2020.12.28 Enh: [web] 分数 / 过题数罚时（以秒计）相同时显示同一排名。
- 2020.12.28 Chg: [web] IOI 赛制仅按照最高分总分排序，OI 赛制仅按照最终提交总分排序。
- 2020.12.28 Enh: [web] 新增永久题目集支持。
- 2020.11.23 Enh: [web] 基于 Bootstrap 4 的全新视图。

2020:

- 2020.11.23 Enh: [web] 绘制表格时自动使用 Bootstrap 样式。
- 2020.11.23 Enh: [web] 添加代码块时自动应用高亮。
- 2020.11.23 Bug: [web] 修复了 LaTeX 公式中表示下标下划线被渲染为斜体标签的问题（需手动应用补丁）。
- 2020.11.23 Enh: [web] 新增个人主页自定义功能。
- 2020.11.23 Chg: [web] 刷题界面回滚到旧版。
- 2020.11.23 Enh: [web] 将学号设置为必填项。
- 2020.11.23 Enh: [web] 取消了 Rating 分级制度。
- 2020.11.23 Chg: [web] 修改 VIP 用户权限以用于助教。
- 2020.11.23 Enh: [web] 统一显示昵称而非用户名。
- 2020.11.23 Enh: [web] 禁用了部分表格的排序功能。
- 2020.11.23 Chg: [web] 修改了部分排版样式和学校信息。
- 2020.11.23 Enh: [web] 公共榜单默认显示选手的学号。
- 2020.11.23 Enh: [web] 对于使用 PDF 作为题面的比赛，在题目详情页显示信息。
- 2020.11.23 Enh: [web、db] 新增小组看板功能。
- 2020.11.23 Chg: [judge] 使用 C11、C++14 判题。
- 2020.11.23 Chg: [judge] 重新设定允许使用的系统调用。

部分修改在后续被移除，或者不再提供迭代与维护，故下面的更新记录仅供参考。

##### lpszoj

- 2020.10.20 Chg: [web] 小组作业添加题目时，增加了同时添加多个题目的支持。
- 2020.10.20 Chg: [web] 批量创建用户时，增加用户名/昵称/密码模式
- 2020.10.20 Chg: [web] 小组作业创建默认改为作业模式。
- 2020.10.20 Chg: [web] 调整代码提交后，显示结果的速度，新版题目提交界面的显示结果速度太慢，造成显示不及时
- 2020.10.19 Bug: [web] 修正了小组作业设置界面导航部分链接错误的情况
- 2020.10.19 Enh: [web] 小组用户列表中,鼠标停留昵称上显示用户名
- 2020.10.19 Bug: [web] 小组中的普通成员，按用户创建顺序排序，修正翻页后用户显示重复或缺失的情况
- 2020.10.19 Chg: [web] 批量添加账号时，同密码的情况，加快创建速度
- 2020.10.17 Chg: [web] 问题列表中的TAG标签美化
- 2020.10.17 Chg: [web] 添加上下的导航条，并增加首页与尾页按钮
- 2020.10.17 Enh: [web] 添加通过率的百分比与进度条
- 2020.10.17 Chg: [web] 去除最上方的蓝灰色LOGO栏，美化导航栏底栏，添加圆角与阴影
- 2020.10.17 Enh: [web、db] 后台设置界面，增加“用户注册”、“开启讨论”、“用户昵称”等的开关。
- 2020.10.17 Bug: [web] 后台批量用户生成不能进入设置以及批量中只能用空格不能用tab键分开的处理
- 2020.10.17 Chg: [web] 小组邀请成员改为批量邀请
- 2020.10.17 Chg: [web] 运行结果查看时，已经通过的绿色测试点，去掉超链接展开的功能，字体改小一些，对错小图标的数量修复。
- 2020.10.17 Enh: [web] 小组中的组长与管理员，添加重置普通成员的密码与昵称功能。
- 2020.10.17 Enh: [web、db] 增加编辑器kindEditor，以及在后台增加编辑器的相关选项。

##### JNOJ `67a9d41`

- 2020.7.29 Chg: [web] 切换markdown编辑器，**以markdown显示，可能会让题面有一些显示错乱的问题**
- 2020.7.26 Enh: [web] 后台批量生成帐号
- 2020.6.23 Bug: [web] 标签去除多余空格
- 2020.5.27 Enh: [web] 添加切换OJ语言选型
- 2020.5.3 Bug: [web] 登陆不存在的用户名会报错
- 2020.1.5 Enh: [web] 全新的刷题界面
- 2019.12.29 Enh: [judge、polygon] 将测评机加入开机自启动。如需加入开机启动，见 [docs/autostart.md](./docs/autostart.md)。
- 2019.12.26 Enh: [web、db] 添加找回密码、验证用户邮箱的功能。您可能需要到 `后台-设置` 管理配置 SMTP 发送邮件。
- 2019.12.24 Enh: [web] 在前台的问题详情页加入 "上一题、下一题" 功能
- 2019.12.22 Enh: [web] 新增后台批量删除题目
- 2019.12.22 Enh: [web] 给 IOI 榜单加入题目通过总时间的排名显示
- 2019.12.17 Chg: [web] 将某些 js 插件的引入由 cdn 改成本地
- 2019.12.17 Enh: [web] 改善 OI、IOI 榜单的显示
- 2019.12.17 Bug: [polygon] 测评机无法编译 C++ 正则表达式
- 2019.12.16 Bug: [judge] 测评机无法编译 C++ 正则表达式
- 2019.12.12 Enh: [web] 首页新闻分页按钮
- 2019.12.12 Chg: [web] 前台的 OI 榜单对管理员用户可见
- 2019.12.11 Enh: [web] 优化与 OI 榜单相关设置
- 2019.12.2 Chg: [polygon] 修改 Polygon 时间、内存限制为题面限制。更新时需要在 `jnoj/polygon` 目录下执行 `make` 命令。
- 2019.12.1 Chg: [web] 默认显示比赛期间的榜单
- 2019.12.1 Bug: [web] 修复一个滚榜数据榜单不对的 Bug
- 2019.12.1 Enh: [web] 更新 vendor
- 2019.12.1 Bug: [web] 封榜后可能通过某些途径查看封榜后提交状态
- 2019.12.1 Enh: [web] 添加一个比赛期间任何人均可访问的比赛榜单页面
- 2019.11.30 Enh: [web] 添加后台比赛提交记录自动刷新功能
- 2019.11.30 Bug: [web] 一个会导致现场赛用户账号重复的问题
- 2019.11.9 Enh: [web] 改进后台查看测试数据文件，避免无法读取大测试点
- 2019.11.9 Bug: [web] 存在某些测评不能正常显示错误信息点
- 2019.10.11 Bug: [judge] 测评机在 32 位环境下无法测评C、C++
- 2019.10.11 Bug: [web] 修复一些漏洞
- 2019.10.7 Bug: [web] 修复一些漏洞 
- 2019.9.28 Enh: [web] 可以下载比赛期间的提交，以用于查重（此功能在后台-比赛-某场比赛-提交记录里）。
- 2019.9.28 Chg: [web] 比赛结束状态的代码重构（对功能无任何影响）
- 2019.9.28 Bug: [web] 比赛结束五分钟内禁止提交


##### JNOJ 0.9.0 2019.9.18

- Enh: [web、judge、db] 支持 OI 判题模式。**不兼容更新，更新后需要到后台设置页面修改oj名称、学校名称**
- Enh: [web] 私有比赛、作业模式。将比赛设为私有时，任何时候均只能由参赛用户访问。
- Bug: [web] 删除参赛用户导致无法访问榜单
- Bug: [web] 部分页面无法显示 katex 公式
- Enh: [web、db] 新增小组功能，可以创建小组，小组内可以创建比赛。**不兼容更新：移除作业功能，将作业功能放置在小组内创建**
- Enh: [web] 完善小组管理机制
- Enh: [web] 小组作业题解编辑
- Enh: [judge] OI 模式下存在子任务时，若子任务出错则不再测评该子任务
- Bug: [web] 比赛修改题目后状态页出错
- Bug: [web] 同一个用户可多次加入小组
- Enh: [web] 改进题目状态查询机制
- Bug: [judge] 可能的评测bug(TLE->RE)
- Enh: [web、db] 新增题目题解功能。每道题目都可以单独编写题解。
- Enh: [web] 可以创建、编辑可以自定义题目 ID，以保持题目ID的连贯性。
- Enh: [web] 可以删除题目讨论
- Bug: [web] OI赛制下比赛依然可以看到过题情况
- Enh: [web] OI赛制可以实时显示榜单
- Bug: [web] 比赛积分的计算问题
- Enh: [web] 管理员有权将隐藏题目添加到小组题目中
- Enh: [web] 比赛信息页显示过题情况
- Enh: [web] 增加 IOI 赛制、作业赛制。
- Chg: [web] 图片改用相对路径
- Enh: [web] 管理员可查看所有小组
- Enh: [web] 改进 OI 榜单的显示
- Enh: [web、polygon] 改进 polygon。需要重新对 polygon 进行编译。
- Enh: [web] 比赛结束五分钟后开放提交
- Bug: [web] 比赛页面切换题目不出现复制按钮
- Enh: [web] 当比赛仅参赛人员可见时，隐藏比赛所有信息
- Enh: [web] 支持比赛任意题目的删除
- Bug: [web] polygon 全部删除输入输出文件
- Bug: [web、polygon] polygon 无法根据标程出数据。需要重新对 polygon 进行编译。
- Enh: [web] 显示比赛结束后的榜单
- Bug: [web] 比赛结束后的提交导致榜单页面出错
- Enh: [web] 添加删除小组、删除小组比赛功能
- Enh: [web] 汉化测评状态

##### JNOJ 0.8.0 2019.3.3

- Enh: [web] 添加 VIP 用户权限，可以将题目设为只有 VIP 用户可见
- Bug: [web] 修复 VIP 题目查询问题
- Bug: [web] 编辑私有题目时无法保存
- Enh: [web、judge] 对 Special Judge 引入 `testlib.h`
- Enh: [web] 添加题目检索功能

##### JNOJ 0.7.0 2019.2.1

- Enh: 汉化部分英文
- Bug: 修改密码后其它浏览器仍然可以自动登录
- Bug: 后台无法修改用户密码
- Enh: 增加 php 扩展缺失未能使用某些功能的提示
- Enh: 提交代码后自动刷新判题结果的状态
- Bug: 作业权限问题
- Enh: 完善题目讨论功能
- Bug: 样例2,3的输入为0时不能显示

##### JNOJ 0.6.0 2018.12.26

- Enh: 静态资源带版本号
- Bug: 比赛倒计时采用客户端时间的问题
- Chg: 执行 composer update 更新 vendor 
- Bug: 从其它OJ导入题目时可能导致的单词换行问题
- Chg: 优化未参赛用户对比赛页面的访问
- Enh: 比赛信息页面的题目列表显示过题状态
- Bug: 比赛批量生成帐号时间过长导致无法生成
- Bug: SPJ题目不可判
- Bug: 测试数据 out 文件无法上传
- Bug: 可能出现判题无结果的现象
- Bug: SPJ 模板的问题
- Bug: 榜单 E 的计算问题
- Enh: 封榜后以 pending 状态显示提交次数
- Bug: 提交代码的编辑器显示出错
- Enh: 可以在比赛页面设置题目显示状态
- Chg: 默认开启 O2
- Enh: 可以批量添加打星参赛用户
- Enh: 可以设置管理员
- Bug: 查看出错数据的权限问题
- Enh: 后台可编辑 SPJ 程序
- Chg: 问题页面查看代码
- Chg: 更新 vendor，移去一个不需要的插件
- Chg: 封榜后显示提交次数
- Bug: 滚榜及榜单的一些问题
- Bug: 题目页面无法上传数据
- Bug: 网站启用 https 的 socket 连接问题
- Bug: 无法发布多个公告

##### JNOJ 0.5.0 2018.12.2

- Chg: 优化线下赛参赛用户的个人主页
- Enh: 让代码打印页面支持浏览器打印
- Enh: 通过修改配置文件 `config/params.php` 设置封榜时间
- Bug: 滚榜显示打星队伍的问题
- Enh: 提交队列显示题目名称
- Bug: 比赛队列因 Pjax 需刷新才能查看代码等信息的问题
- Enh: 发布打印请求或者答疑时，给管理员发布弹窗信息
- Enh: 可以下载数据文件
- Enh: 可以在后台比赛页面为题目批量设置题目来源

##### JNOJ 0.4.0 2018.11.24

- Bug: 封榜后不再显示别人的提交
- Enh: 通过修改配置文件 `config/params.php` 的 `isShareCode` 参数来确定用户是否公开自己的代码
- Enh: 完善积分段位
- Bug: 修复上传图片功能
- Bug: 修复普通用户可以查看隐藏状态下题目信息
- Enh: 完善验题功能
- Enh: 多次登录失败后，出现验证码以提高安全性
- Bug: 重要的安全更新
- Bug: 比赛中无法给某个用户发送回复弹窗
- Enh: 批量同步 polygon 题目到题库中

##### JNOJ 0.3.0 2018.10.3

- Enh: 导入 hustoj 题目的功能
- Chg: 将 Markdown 编辑器换成富文本编辑器（为兼容其它OJ的数据迁移）
- Enh: 测试数据上传文件的功能
- Chg: KaTeX公式风格习惯调整（单个 `$` 识别符号为行内公式，双个 `$` 识别符号为多行公式）
- Enh: 完善题数排行页面的功能
- Bug: QQ号改为长整型
- Bug: 修复个人赛排序方式
- Enh: 在问题列表页面，对已解决问题增加个提示标签
- Bug: 修复rating计算
- Bug: 调整缓存依赖
- Enh: 代码高亮
- Enh: 代码编辑器
- Chg: 删除多余的管理员权限
- Enh: 在Polygon中添加验题的功能
